%© Antoine Martinet, oct 2014. All rights reserved.
%paper, layout
\documentclass{beamer}
\usetheme{Darmstadt}
%\usetheme{Dresden}
\usecolortheme[]{default}
\setbeamercolor*{palette primary}{use=structure, fg=gray!20, bg=red!70!black}
\setbeamercolor*{palette secondary}{use=structure, fg=blue, bg=red!50!black}
%\setbeamercolor*{palette tertiary}{use=structure, fg=green, bg=green}
%\setbeamercolor{titlelike}{parent=structure, fg=lightgray, bg=red!60!black}
%\setbeamercolor{subsection in head/foot}{bg=gray!30,fg=black}
\setbeamercolor{section number projected}{bg=red!100!black,fg=black!80}
\setbeamercolor{subsection number projected}{bg=red!100!black,fg=black!80}
\setbeamercolor{subsubsection number projected}{bg=red!100!black,fg=black!80}

\setbeamerfont{header_font_subsection}{size*={12.2 5}{0.25}}

%\usetheme{Marburg}
\usepackage[utf8]{inputenc}

\usepackage{multicol}

\usepackage{bibentry}
\nobibliography*

%images, pdf pages inclusions
\usepackage{pdfpages}
\usepackage{pgfpages}

%hypertext links
\usepackage{hyperref}
\hypersetup{
	colorlinks=true,
	breaklinks=true,
	linkcolor=black!45,
	urlcolor=blue}

%graphics and handmade figures
\usepackage{graphicx}
\usepackage{tikz}
\usetikzlibrary{arrows,shapes}
\usetikzlibrary{calc}
\newcommand{\msbout}{m_{\text{out}}}
\newcommand{\appr}[1]{\widetilde{#1}}
\newcommand{\yout}{y_{\text{out}}}
\newcommand{\abserr}{\varepsilon}
\newcommand{\epssopc}{\abserr_{\text{r}}}
\newcommand{\epsfinalround}{\abserr_{\text{f}}}
\newcommand{\TODO}{\textbf{TODO}}
\tikzset{
  x=1ex,y=1ex,
  hwblock/.style={draw, rectangle, rounded corners=.3, very thick, fill=black!5, font=\sf, minimum height=5ex},
  hwbus/.style={very thick,>=stealth},
  hwwire/.style={thin, >=stealth, },
  hwword/.style={draw, rectangle, minimum height=3ex},
  bitwidth/.style={font=\scriptsize,midway,right}
}

%slide number on the left of the footer
 \setbeamertemplate
  {footline}{\hspace{5pt}\insertframenumber/\inserttotalframenumber\strut\quad\hfill\vspace{3pt}} 

\title{Architecture Synthesis \\ for \\ Linear Time-Invariant Filters}
%\author{\\ \Large Antoine Martinet \\ \\\\\\\\\\\\\\ \\ \\ Master 2 Internship Report \\ \\ \\ \LARGE at CITI lab \\ INRIA's SOCRATE Team \\\\\\\\\\\\\\\\ \normalsize under the supervision of\\ \\ \Large Florent de Dinechin \\ \\ \\}
%\date{2 February - 31 Jully, \\ \vspace{5pt} 2015}

\author[author]{Antoine Martinet}
\date{2 February - 31 July, \vspace{5pt} 2015}
\institute{CITI lab, \\ INRIA's SOCRATE Team, \\ \vspace{5pt} Under the supervision of \\Florent de Dinechin}

\AtBeginSection[]
{
	\begin{frame}
%	\transdissolve
		\frametitle{Table of Contents}
		\tableofcontents[currentsection]
	\end{frame}
}
%\AtBeginSubsection[]
%{
%	\begin{frame}
%%	\transdissolve
%		\frametitle{Table of Contents}
%		\tableofcontents[currentsection,currentsubsection]
%	\end{frame}
%}

\usepackage{xspace}
\usepackage{array}
\usepackage{tabularx}

%\usepackage{stmaryrd}
\usepackage[]{algorithm2e}
\usepackage{amssymb}
%\usepackage[?]{amsmath}
\usepackage{epsfig}
\usepackage{enumerate}
\usepackage{comment}
\setcounter{MaxMatrixCols}{20}

\usepackage[]{xcolor}
\definecolor{light-gray}{gray}{0.6}
\definecolor{blue}{RGB}{0,0,153}
\definecolor{blue1}{RGB}{0,102,204}
\definecolor{blue2}{RGB}{51,153,255}
\definecolor{blue3}{RGB}{0,153,153}
\definecolor{blue4}{RGB}{102,102,255}
\definecolor{red1}{RGB}{255,0,0}
\definecolor{orange1}{RGB}{255,153,51}
\definecolor{green}{RGB}{0,204,0}
\definecolor{purple}{RGB}{204,0,204}

\begin{document}

	\begin{frame}
	\maketitle
	\end{frame}

	\begin{frame}
		\frametitle{Context}
		What:
			\begin{figure}
		\resizebox{3cm}{!}{
			\begin{tikzpicture}[domain=0:7.5, samples=1000]
				\draw[->] (-0.2,0) -- (10.2,0) node[right] {\tiny$k$};
				\draw[->] (0,-1.2) -- (0,7.2) node[above] {};
				\draw[color=blue] plot[id=sin] function{sin(x)+sin(2*x)+sin(3*x)+sin(4*x)+sin(5*x)+sin(6*x)+sin(7*x) * sin(8*x) +sin(9*x) *sin(10*x)} node[right] {\tiny$u(k)$};
				\draw (3.8cm,-0.3cm) -- (5.8cm,-0.3cm) [->, thick] node[above,near end]{};
				\draw (0.3cm,-0.3cm) -- (2.3cm,-0.3cm) [->, thick] node[above,near end]{};
				\draw (2.3cm,-0.8cm) rectangle ++ (1.5cm,1cm)[thick] node [midway]{$Filter$}; 
				\draw[->] (23.8,0) -- (33.8,0) node[right] {\tiny$k$};
				\draw[->] (24,-1.2) -- (24,7.2) node[above] {};
				\draw[color=red, xshift=117] plot[id=out] function{2*sin(x)} node[right] {\tiny$y(k)$};
			\end{tikzpicture}
		}
			\end{figure}

		%car
		\begin{picture}(0, 0)
		\only<2->{
			\transdissolve
		\put(-20,-110){\includegraphics[scale=0.05, angle=-30]{pictures/car.jpeg}}
		}
		\end{picture}

		%wash machine
		\begin{picture}(0,0)
		\only<3->{
			\transdissolve
		\put(250,30){\includegraphics[scale=0.3, angle=30]{pictures/wm.jpeg}}
		}
		\end{picture}
		\vspace{-20pt}
		
		%hard drive
		\begin{picture}(0,0)
		\only<4->{
			\transdissolve
		\put(240,-120){\includegraphics[scale=0.2, angle=40]{pictures/hd.jpeg}}
		}
		\end{picture}
		\vspace{-20pt}

		Application domains:
		\begin{itemize}
			\item control (car industry, electrical goods industry, hardware, ...)
			\item signal processing (e.g. denoising)
		\end{itemize}

		Main targets:
		\begin{itemize}
			\item ASIC/FPGA market for embedded systems
			\item research (control, signal) for application testing
		\end{itemize}
		%TODO: rajouter le schéma (seulement la boîte flopoco): filtres matériels.
		%Important: détails sur ce qui a été fait.
		%+photos voitures/disques durs, etc...

		Goal of this work: implement LTI Filters in Hardware
		\begin{figure}[h] 

		\resizebox{200pt}{!}{
		  \tiny
		  \begin{tikzpicture}[]
			\draw (3.0cm, 0cm) rectangle ++(1cm,1cm) [draw=white, fill=white]{}; %useless node for alignment
		  
%			\draw (-5.5cm, 0.7cm) -- (-3.0cm,0.7cm) [->, thick] node[below,xshift=-1.2cm]{$\begin{pmatrix}\boldsymbol{-J} & \boldsymbol{M} & \boldsymbol{N} \\ \boldsymbol{K} & \boldsymbol{P} & \boldsymbol{Q} \\ \boldsymbol{L} & \boldsymbol{R} & \boldsymbol{S} \end{pmatrix}$};
			\draw (-4.0cm, 0.4cm) -- (-3.0cm,0.4cm) [->, thick] node[below,xshift=-2.2cm, yshift=0.2cm]{LTI Filter coefficients};
			%\draw[fill=orange!20] (-8cm,0.0cm) rectangle ++(2.5cm,1.4cm)[thick] node [midway, text width = 4cm, align=center]{Realization choice \\ by \\ Hilaire, Volkova  \\ team PEQUAN, LIP6 \\(Front-End)}; 
			\draw[fill=orange!20] (-3.0cm,0.0cm) rectangle ++(3.0cm,1.4cm)[thick] node [midway, text width = 3cm, align=center]{Flopoco core generation \\(Back-End)}; 

			\draw (1cm,0cm) rectangle ++(1.1cm,1.4cm)[thick, fill=gray!20] node [midway]{VHDL}; 
			\draw (0.0cm, 0.7cm) -- (1cm,0.7cm) [->, thick] node[above,near start]{};

			\draw (-3.5cm, 1.0cm) -- (-3.0 cm, 1.0cm) -- (-4.0cm,1.0cm) -- (-3.0cm,1.0cm) [->, thick] node[below,xshift=-2.4cm, yshift=0.3cm]{input format ($msbs_u$,$lsbs_u$)};
			\draw (-3.5cm, 0.7cm) -- (-3.0 cm, 0.7cm) -- (-4.0cm,0.7cm) -- (-3.0cm,0.7cm) [->, thick] node[below,xshift=-2.6cm, yshift=0.3cm]{output accuracy ($msbs_y$,$lsbs_y$)};
		  \end{tikzpicture}

		}
		\end{figure}



	\end{frame}

	\begin{frame}
		\frametitle{Table of Contents}
	\tableofcontents
	\end{frame}

	%\section{Introduction}
	%\begin{frame}
	%	\frametitle{Introduction}
	%	LTI filters: essential tools in signal processing and control communities
	%	Implementation in software works well.
	%	Idea: implementing LTI Filters in hardware can be very useful
	%\end{frame}

	
	\section{Signal processing and filters}
	\input{firstPart}

	\section{Generating the architecture}
	\input{secondPart}

	\section{Future Work}
	\input{thirdPart}

	\begin{frame}
	\frametitle{Conclusion}
%	\transdissolve
		\begin{center}
			\bfseries
			To conclude
		\end{center}
		\begin{itemize}
			\item Adapting LTI Filters generation from software to hardware
			\item Reuse of Lopez's calculations in our context
			\item Implementation for FPGAs in a parametric view
		\end{itemize}

	\end{frame}

	\begin{frame}
%	\transboxin
		\begin{center}
			\bfseries
			Any question?
		\end{center}
	\end{frame}

	\bgroup
	\setbeamercolor*{background canvas}{bg=black}
	\setbeamertemplate {footline}{} 
	\addtocounter{framenumber}{-1}
	\begin{frame}[plain]
	%\setbeamertemplate {footline}{} 
	%\vspace{-175pt}
	%\textcolor{white}{\hspace{-28pt}\tiny End of the presentation. Click to exit.}
	\end{frame}
	\setbeamercolor*{background canvas}{bg=white}
	\input{backup}
	\egroup

\end{document}
